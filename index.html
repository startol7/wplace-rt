<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>TePlace — Real World Map Conquest</title>
  <link rel="stylesheet" href="style.css" />
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">🌍 TePlace</div>

    <!-- 横並びコントロール（モバイルで折り返さない） -->
    <div class="controls controls-inline">
      <label class="country-label">
        <span>Your country:</span>
        <select id="countrySelect"></select>
      </label>
      <div class="auth-row">
        <button id="signInBtn" class="btn">Sign in</button>
        <button id="signOutBtn" class="btn hidden">Sign out</button>
      </div>
    </div>
  </header>

  <main class="main">
    <section class="map-wrap">
      <div id="map"></div>
      <div id="cooldown" class="cooldown hidden">
        <div id="cooldownFill" class="cooldown-fill"></div>
      </div>
      <div class="cooldown-text">Next: <span id="cooldownText">0s</span></div>
    </section>

    <aside class="side">
      <section class="card">
        <div class="card-title">🏆 World Ranking</div>
        <div class="seg">
          <button class="seg-btn active" data-period="today">Today</button>
          <button class="seg-btn" data-period="week">Week</button>
          <button class="seg-btn" data-period="month">Month</button>
        </div>
        <ul id="rankingList" class="ranking"><li>No data yet</li></ul>
      </section>

      <section class="card">
        <div class="card-title">📊 Statistics</div>
        <div class="stat-row"><span>Total territories</span><strong id="statTotal">0</strong></div>
        <div class="stat-row"><span>My territories</span><strong id="statMine">0</strong></div>
        <div class="stat-row"><span>Online (approx)</span><strong id="statOnline">0</strong></div>
      </section>

      <section class="card">
        <div class="card-title">🎨 Color</div>
        <label class="color-row">
          <span>Color</span>
          <input id="colorHex" class="color-hex" value="#ff4b4b" maxlength="7" />
          <input id="colorPicker" class="color-picker" type="color" value="#ff4b4b" />
        </label>

        <div class="sub-title">Tile size</div>
        <div class="seg">
          <button class="seg-btn" data-tile="0.005">0.005°</button>
          <button class="seg-btn" data-tile="0.001">0.001°</button>
          <button class="seg-btn active" data-tile="0.0005">0.0005°</button>
        </div>
        <div class="tile-custom">
          <input id="tileCustom" type="number" step="0.0001" />
          <button id="tileApply" class="btn">Apply</button>
        </div>
        <p class="note">1×1 only ・ Cooldown: 10s</p>
      </section>
    </aside>
  </main>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <!-- App -->
  <script src="script.js" type="module"></script>
</body>
</html>
